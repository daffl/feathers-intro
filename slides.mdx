import { Head } from 'mdx-deck'
import { Image } from 'mdx-deck'
import { CodeSurfer } from 'mdx-deck-code-surfer'
import highlighter from 'prism-react-renderer/themes/ultramin';
export { default as theme } from './theme'

<Head>
  <title>An Introduction To FeathersJS</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Raleway:100,300,400,500,700" />
  <link rel="stylesheet" href="styles.css" />
</Head>

# An Introduction To FeathersJS

[daffl.github.io/feathers-intro](https://daffl.github.io/feathers-intro)

---

## Hi, I'm David. I like

- üíª Open Source: [FeathersJS](https://feathersjs.com/)
- üó∫Ô∏è Community: [Cowork & Coffee](https://www.meetup.com/codecoffeeyvr/), [Nodeschool](https://nodeschool.io/vancouver/)
- üßó‚Äç‚ôÇÔ∏è Rock Climbing ‚õ∞Ô∏è
- üè≠ Industrial music üîä
- üöÄ Science Fiction ü§ñ

---

## Today I'd like to talk about

![Feathers logo](./img/feathers-logo-wide.png)

[feathersjs.com](https://feathersjs.com)

---

## What is Feathers?

![Feathers image](./img/key-image-horizontal.png)

Feathers is a web-framework for creating real-time applications and APIs using JavaScript or TypeScript with Node.JS, React Native and the browser.

---

## Architecture over protocols

The traditional (web) MVC pattern is outdated for building APIs but HTTP request/response frameworks are too low level.

### What are new design patterns for creating modern applications?

---

## Real-time isn't a feature, it's the future

Real-time updates shouldn't be an afterthought.

### What if our applications always update automatically?

---

<Image src="img/service-layer.png" size="contain" />

---

<CodeSurfer
  theme={highlighter}
  code={require("!raw-loader!./snippets/service-example.js").default}
  lang="js"
  showNumbers={false}
  dark={false}
/>

---

## Why Services?

- __Separation of Concerns and Testability:__ Test services separately from how they are accessed
- __Self documenting:__ External interface as a JavaScript/TypeScript class or object
- __Transport agnostic:__ Services can be used by any client like a GUI, REST or Socket.io API wrapper or GraphQL resolver

---

## Oh... and also, features

- Service-oriented design
- Automatic REST APIs
- Automatic real-time events
- Universal usage on the client and the server
- Integrates with any frontend framework like React, Vue, Angular, React Native
- Existing database integrations for 15+ databases and ORMs

---

## E.g. REST APIs

| HTTP method | Service layer method |
| --- | --- |
| GET /messages      | messages.find() |
| GET /messages/1    | messages.get(1) |
| POST /messages     | messages.create(data) |
| PUT /messages/1    | messages.update(1, data) |
| PATCH /messages/1  | messages.patch(1, data) |
| DELETE /messages/1 | messages.remove(1) |

---

## Hooks (Middleware)

Hooks enable re-usable workflows and cross-cutting concerns that can be added to service methods

- Validation and data pre/post-processing
- Checking permissions
- Sending emails or other notifications
- Logging and profiling

---

<CodeSurfer
  theme={highlighter}
  code={require("!raw-loader!./snippets/middleware.js").default}
  lang="js"
  showNumbers={false}
  dark={false}
/>

---

<CodeSurfer
  theme={highlighter}
  code={require("!raw-loader!./snippets/messages-service.js").default}
  lang="js"
  showNumbers={false}
  dark={false}
  steps={[
    {},
    { range: [1, 1] },
    { range: [4, 6] },
    { range: [8, 10] },
    { range: [12, 21] },
    { range: [24, 27] },
    { range: [28, 35] },
    { range: [36, 39] },
    { range: [40, 53] }
  ]}
/>

---

# Thank you!

- [@daffl](https://twitter.com/daffl)
- [feathersjs.com](https://feathersjs.com)
- [daffl.github.io/feathers-intro](https://daffl.github.io/feathers-intro)
